<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TASK Energy - Job Dashboard</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        :root {
            --primary-color: #B91515;
            --secondary-color: #3498db;
            --success-color: #27ae60;
            --warning-color: #f39c12;
            --danger-color: #e74c3c;
            --light-bg: #f8f9fa;
            --card-shadow: 0 4px 12px rgba(0,0,0,0.1);
            --card-shadow-hover: 0 8px 24px rgba(0,0,0,0.15);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #B91515 0%, #8B0000 100%);
            min-height: 100vh;
            line-height: 1.6;
            padding: 0;
            margin: 0;
        }

        .dashboard-container {
            max-width: 100%;
            margin: 0;
            background: white;
            min-height: 100vh;
            width: 100%;
        }

        .header {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            color: white;
            padding: 20px 15px;
            text-align: center;
            position: relative;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .header h1 {
            font-size: 1.8rem;
            margin-bottom: 5px;
            font-weight: 700;
        }

        .header p {
            font-size: 1rem;
            opacity: 0.9;
            font-weight: 300;
        }

        .stats-bar {
            background: var(--light-bg);
            padding: 15px 10px;
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            border-bottom: 1px solid #e9ecef;
        }

        .stat-item {
            text-align: center;
            padding: 10px 5px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .stat-number {
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--secondary-color);
            display: block;
        }

        .stat-label {
            font-size: 0.75rem;
            color: #6c757d;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-top: 2px;
            font-weight: 600;
        }

        .controls {
            padding: 15px;
            background: white;
            border-bottom: 1px solid #e9ecef;
        }

        .search-container {
            position: relative;
            margin-bottom: 15px;
        }

        .search-box {
            width: 100%;
            padding: 15px 20px 15px 50px;
            border: 2px solid #e9ecef;
            border-radius: 25px;
            font-size: 16px;
            transition: all 0.3s ease;
            background: #f8f9fa;
        }

        .search-box:focus {
            border-color: var(--secondary-color);
            outline: none;
            background: white;
        }

        .search-icon {
            position: absolute;
            left: 18px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 18px;
            color: #6c757d;
        }

        .filter-container {
            display: flex;
            gap: 8px;
            overflow-x: auto;
            padding-bottom: 5px;
        }

        .filter-chip {
            padding: 8px 16px;
            border: 2px solid #e9ecef;
            background: white;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-weight: 600;
            font-size: 0.85rem;
            white-space: nowrap;
        }

        .filter-chip.active {
            background: var(--secondary-color);
            color: white;
            border-color: var(--secondary-color);
        }

        .jobs-container {
            padding: 15px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            padding-bottom: 100px;
        }

        .job-card {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            border-radius: 16px;
            padding: 20px;
            box-shadow: var(--card-shadow);
            transition: all 0.3s ease;
            position: relative;
            border-left: 5px solid var(--secondary-color);
            color: #ffffff;
        }

        .job-card.priority-urgent { border-left-color: var(--danger-color); }
        .job-card.priority-high { border-left-color: var(--warning-color); }

        .priority-dot {
            position: absolute;
            top: 15px;
            right: 15px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--secondary-color);
        }

        .priority-urgent .priority-dot { background: var(--danger-color); }
        .priority-high .priority-dot { background: var(--warning-color); }

        .job-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
            flex-wrap: wrap;
            gap: 10px;
        }

        .job-id {
            font-size: 1.1rem;
            font-weight: 700;
            color: #3498db;
            flex: 1;
        }

        .status-badge {
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
            white-space: nowrap;
        }

        .status-newcallout { background: #e3f2fd; color: #1976d2; }
        .status-approved { background: #e8f5e8; color: #2e7d32; }
        .status-rejected { background: #ffebee; color: #c62828; }
        .status-pending { background: #fff3e0; color: #f57c00; }

        .job-info-line {
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 8px;
        }

        .info-item {
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .info-label {
            font-size: 0.7rem;
            font-weight: 600;
            color: #ffffff;
            opacity: 0.8;
            text-transform: uppercase;
        }

        .info-value {
            font-size: 0.85rem;
            color: #ffffff;
            font-weight: 500;
        }

        .info-value.highlight {
            color: #3498db;
            font-weight: 700;
        }

        .info-divider {
            color: #ffffff;
            opacity: 0.5;
            font-weight: bold;
        }

        .action-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 15px;
        }

        .btn-complete {
            padding: 12px 20px;
            background: var(--success-color);
            color: white;
            border: none;
            border-radius: 25px;
            font-weight: 600;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-complete:hover {
            background: #1e8449;
            transform: translateY(-2px);
        }

        .details-btn {
            padding: 12px 20px;
            background: var(--secondary-color);
            color: white;
            border: none;
            border-radius: 25px;
            font-weight: 600;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .details-btn:hover {
            background: #2980b9;
            transform: translateY(-2px);
        }

        .refresh-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            background: var(--success-color);
            color: white;
            border: none;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: var(--card-shadow-hover);
            z-index: 1000;
            transition: all 0.3s ease;
        }

        .refresh-btn.spinning {
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.8);
        }

        .modal.active {
            display: block;
        }

        .modal-content {
            background: white;
            margin: 5% auto;
            padding: 0;
            width: 95%;
            max-width: 800px;
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-header {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            color: white;
            padding: 20px;
            border-radius: 16px 16px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header.edit-header {
            background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%);
        }

        .modal-title {
            font-size: 1.5rem;
            font-weight: bold;
            margin: 0;
        }

        .close-btn {
            background: none;
            border: none;
            color: white;
            font-size: 2rem;
            cursor: pointer;
            padding: 0;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .close-btn:hover {
            background: rgba(255,255,255,0.2);
        }

        .modal-actions {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            padding: 20px;
            border-bottom: 2px solid #f0f0f0;
        }

        .modal-action-btn {
            padding: 14px 24px;
            border: none;
            border-radius: 25px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-edit {
            background: #f39c12;
            color: white;
        }

        .btn-edit:hover {
            background: #e67e22;
            transform: translateY(-2px);
        }

        .btn-complete-modal {
            background: var(--success-color);
            color: white;
        }

        .btn-complete-modal:hover {
            background: #1e8449;
            transform: translateY(-2px);
        }

        .modal-body {
            padding: 20px;
        }

        .detail-section {
            margin-bottom: 25px;
            background: #f8f9fa;
            border-radius: 12px;
            padding: 20px;
            border-left: 4px solid var(--secondary-color);
        }

        .section-title {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 15px;
            border-bottom: 2px solid #e9ecef;
            padding-bottom: 10px;
        }

        .detail-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .detail-item {
            background: white;
            padding: 12px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .detail-label {
            font-size: 0.8rem;
            font-weight: 600;
            color: #6c757d;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 5px;
        }

        .detail-value {
            font-size: 1rem;
            color: var(--primary-color);
            font-weight: 500;
        }

        .edit-input, .edit-select, .edit-textarea {
            width: 100%;
            padding: 10px;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            font-size: 0.95rem;
            font-family: inherit;
            transition: border-color 0.3s;
        }

        .edit-input:focus, .edit-select:focus, .edit-textarea:focus {
            outline: none;
            border-color: var(--secondary-color);
        }

        .edit-textarea {
            resize: vertical;
            min-height: 80px;
        }

        .success-message {
            background: #d4edda;
            color: #155724;
            padding: 15px 20px;
            border-radius: 12px;
            margin: 20px;
            text-align: center;
            font-weight: 600;
            display: none;
            position: fixed;
            top: 80px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 3000;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        .success-message.active {
            display: block;
        }

        .loading, .error {
            text-align: center;
            padding: 60px 20px;
            color: #6c757d;
            font-size: 1.1rem;
        }

        .error {
            color: var(--danger-color);
        }

        @media (min-width: 768px) {
            .jobs-container {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
                gap: 20px;
                padding: 20px;
            }
        }

        @media (max-width: 768px) {
            .detail-grid {
                grid-template-columns: 1fr;
            }
            .modal-actions {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="dashboard-container">
        <div class="header">
            <h1>TASK Energy</h1>
            <p>Wireline Callout Jobs</p>
        </div>

        <div class="stats-bar">
            <div class="stat-item">
                <span class="stat-number" id="totalJobs">3</span>
                <div class="stat-label">Total</div>
            </div>
            <div class="stat-item">
                <span class="stat-number" id="pendingJobs">1</span>
                <div class="stat-label">Pending</div>
            </div>
            <div class="stat-item">
                <span class="stat-number" id="approvedJobs">1</span>
                <div class="stat-label">Approved</div>
            </div>
            <div class="stat-item">
                <span class="stat-number" id="urgentJobs">1</span>
                <div class="stat-label">Urgent</div>
            </div>
        </div>

        <div class="controls">
            <div class="search-container">
                <div class="search-icon">🔍</div>
                <input type="text" class="search-box" id="searchInput" placeholder="Search Client, RIG, Well, Location...">
            </div>
            
            <div class="filter-container">
                <div class="filter-chip active">All Jobs</div>
                <div class="filter-chip">New Callout</div>
                <div class="filter-chip">Approved</div>
                <div class="filter-chip">Pending</div>
                <div class="filter-chip">Rejected</div>
            </div>
        </div>

        <div class="jobs-container" id="jobsContainer">
            <!-- Sample Job Cards -->
            <div class="job-card priority-high">
                <div class="priority-dot"></div>
                
                <div class="job-header">
                    <div class="job-id">CL-2025-001</div>
                    <div class="status-badge status-newcallout">New Callout</div>
                </div>

                <div class="job-info-line">
                    <span class="info-item">
                        <span class="info-label">CLIENT:</span>
                        <span class="info-value">PDO</span>
                    </span>
                    <span class="info-divider">•</span>
                    <span class="info-item">
                        <span class="info-label">ROS:</span>
                        <span class="info-value highlight">10/04/2025 CONFIRMED</span>
                    </span>
                    <span class="info-divider">•</span>
                    <span class="info-item">
                        <span class="info-label">SERVICE:</span>
                        <span class="info-value">Wireline Casing Survey</span>
                    </span>
                </div>

                <div class="job-info-line">
                    <span class="info-item">
                        <span class="info-label">DEPTH:</span>
                        <span class="info-value">6.77m - 420m</span>
                    </span>
                    <span class="info-divider">•</span>
                    <span class="info-item">
                        <span class="info-label">PROFILE:</span>
                        <span class="info-value">Vertical</span>
                    </span>
                    <span class="info-divider">•</span>
                    <span class="info-item">
                        <span class="info-label">WELL:</span>
                        <span class="info-value">HZR-128</span>
                    </span>
                </div>

                <div class="action-buttons">
                    <button class="btn-complete" onclick="completeJob('CL-2025-001')">
                        ✓ Complete
                    </button>
                    <button class="details-btn" onclick="showJobDetails('CL-2025-001')">
                        📋 Details
                    </button>
                </div>
            </div>
        </div>

        <button class="refresh-btn" onclick="alert('Refreshing...')">🔄</button>
    </div>

    <div class="success-message" id="successMessage"></div>

    <!-- Job Details Modal -->
    <div class="modal" id="jobModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="modalTitle">CL-2025-001 - Job Details</h2>
                <button class="close-btn" onclick="closeModal()">&times;</button>
            </div>

            <div class="modal-actions">
                <button class="modal-action-btn btn-edit" onclick="showEditModal('CL-2025-001')">
                    ✎ Edit Job
                </button>
                <button class="modal-action-btn btn-complete-modal" onclick="completeJob('CL-2025-001')">
                    ✓ Mark Complete
                </button>
            </div>

            <div class="modal-body" id="modalBody">
                <!-- Will be filled dynamically -->
            </div>
        </div>
    </div>

    <!-- Edit Modal -->
    <div class="modal" id="editModal">
        <div class="modal-content">
            <div class="modal-header edit-header">
                <h2 class="modal-title">Edit Job - CL-2025-001</h2>
                <button class="close-btn" onclick="closeEditModal()">&times;</button>
            </div>

            <div class="modal-body">
                <form id="editForm">
                    <!-- Survey Information -->
                    <div class="detail-section">
                        <div class="section-title">Survey Information</div>
                        <div class="detail-grid">
                            <div class="detail-item">
                                <div class="detail-label">Survey Start Depth (m)</div>
                                <input type="text" class="edit-input" name="surveyStartDepth" value="SURFACE">
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Survey End Depth (m)</div>
                                <input type="text" class="edit-input" name="surveyEndDepth" value="1670">
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Survey Interval (m)</div>
                                <input type="text" class="edit-input" name="surveyInterval" value="1670">
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Equipment Required Date</div>
                                <input type="date" class="edit-input" name="equipmentDate" value="2025-04-10">
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Crew Required Date</div>
                                <input type="date" class="edit-input" name="crewDate" value="2025-04-10">
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">ROS Date</div>
                                <input type="date" class="edit-input" name="rosDate" value="2025-04-10">
                            </div>
                        </div>
                    </div>

                    <!-- Type of Service Required -->
                    <div class="detail-section">
                        <div class="section-title">Type of Service Required</div>
                        <div class="detail-grid">
                            <div class="detail-item">
                                <div class="detail-label">Service Type</div>
                                <input type="text" class="edit-input" name="serviceType" value="Wireline Casing Survey">
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Survey Category</div>
                                <select class="edit-select" name="surveyCategory">
                                    <option value="Wireline Gyro Surveys" selected>Wireline Gyro Surveys</option>
                                    <option value="Memory Gyro Surveys">Memory Gyro Surveys</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Status -->
                    <div class="detail-section">
                        <div class="section-title">Status</div>
                        <div class="detail-grid">
                            <div class="detail-item">
                                <div class="detail-label">Job Status</div>
                                <select class="edit-select" name="status">
                                    <option value="New Callout" selected>New Callout</option>
                                    <option value="Approved">Approved</option>
                                    <option value="Pending">Pending</option>
                                    <option value="Rejected">Rejected</option>
                                    <option value="Completed">Completed</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Comments -->
                    <div class="detail-section">
                        <div class="section-title">Comments</div>
                        <div class="detail-item">
                            <div class="detail-label">Additional Notes</div>
                            <textarea class="edit-textarea" name="comments" placeholder="Add notes or comments...">Equipment and crew required on-site</textarea>
                        </div>
                    </div>

                    <!-- Save/Cancel Buttons -->
                    <div class="modal-actions">
                        <button type="button" class="modal-action-btn" style="background: #95a5a6;" onclick="closeEditModal()">
                            Cancel
                        </button>
                        <button type="button" class="modal-action-btn btn-complete-modal" onclick="saveEdit()">
                            💾 Save Changes
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script>
        const SAMPLE_JOB = {
            calloutId: 'CL-2025-001',
            ticketNumber: '33198',
            client: 'PDO',
            rigNumber: '144',
            wellName: 'HZR-128',
            location: 'HZR',
            serviceType: 'Wireline Casing Survey',
            depth: '6.77m - 420m',
            wellProfile: 'Vertical',
            rosDate: '2025-04-10',
            rosStatus: 'CONFIRMED',
            holeSection: '12¼"',
            fieldName: 'HZR',
            surveyStartDepth: 'SURFACE',
            surveyEndDepth: '1670',
            surveyInterval: '1670',
            casingSize: '9 5/8',
            drillpipeSize: 'N/A',
            groundElevation: 'N/A',
            rigFloorElevation: 'N/A',
            equipmentDate: '2025-04-10',
            crewDate: '2025-04-10',
            contactPerson: 'Hani',
            contactPhone: '24366282',
            designation: 'PE',
            authorization: 'Mohammed Al Wahaibi',
            comments: 'Equipment and crew required on-site',
            coordinates: {
                latitude: 'N/A',
                longitude: '6',
                northing: '382599.967E',
                easting: '2265899.94N'
            }
        };

        function showJobDetails(calloutId) {
            const job = SAMPLE_JOB;
            document.getElementById('modalTitle').textContent = `${job.calloutId} - Job Details`;
            
            const modalBody = document.getElementById('modalBody');
            modalBody.innerHTML = `
                <div class="detail-section">
                    <div class="section-title">1. General Information</div>
                    <div class="detail-grid">
                        <div class="detail-item">
                            <div class="detail-label">Customer</div>
                            <div class="detail-value">${job.client}</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Rig Number</div>
                            <div class="detail-value">${job.rigNumber}</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Well Name</div>
                            <div class="detail-value">${job.wellName}</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Hole Section</div>
                            <div class="detail-value">${job.holeSection}</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Well ID #</div>
                            <div class="detail-value">${job.ticketNumber}</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Field Name</div>
                            <div class="detail-value">${job.fieldName}</div>
                        </div>
                    </div>
                </div>

                <div class="detail-section">
                    <div class="section-title">2. Type of Service Required</div>
                    <div class="detail-grid">
                        <div class="detail-item">
                            <div class="detail-label">Service Type</div>
                            <div class="detail-value">${job.serviceType}</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Survey Category</div>
                            <div class="detail-value">Wireline Gyro Surveys</div>
                        </div>
                    </div>
                </div>

                <div class="detail-section">
                    <div class="section-title">3. Well Information</div>
                    <div class="detail-grid">
                        <div class="detail-item">
                            <div class="detail-label">Latitude</div>
                            <div class="detail-value">${job.coordinates.latitude}</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Northing</div>
                            <div class="detail-value">${job.coordinates.northing}</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Longitude</div>
                            <div class="detail-value">${job.coordinates.longitude}</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Easting</div>
                            <div class="detail-value">${job.coordinates.easting}</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Casing Size</div>
                            <div class="detail-value">${job.casingSize} Inch</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Ground Elevation</div>
                            <div class="detail-value">${job.groundElevation}</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Drillpipe Size</div>
                            <div class="detail-value">${job.drillpipeSize} Inch</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Rig Floor Elevation</div>
                            <div class="detail-value">${job.rigFloorElevation}</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Well Profile</div>
                            <div class="detail-value">${job.wellProfile}</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Max Down Hole Temp</div>
                            <div class="detail-value">°C</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Minimum ID</div>
                            <div class="detail-value">Inch</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Maximum Inclination</div>
                            <div class="detail-value">°</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">H2S Level</div>
                            <div class="detail-value">0</div>
                        </div>
                    </div>
                </div>

                <div class="detail-section">
                    <div class="section-title">4. Survey Information</div>
                    <div class="detail-grid">
                        <div class="detail-item">
                            <div class="detail-label">Survey Start Depth</div>
                            <div class="detail-value">${job.surveyStartDepth} m</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Survey End Depth</div>
                            <div class="detail-value">${job.surveyEndDepth} m</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Survey Interval</div>
                            <div class="detail-value">${job.surveyInterval} m</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Equipment Required On-Site</div>
                            <div class="detail-value">${job.equipmentDate}</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Crew Required On-Site</div>
                            <div class="detail-value">${job.crewDate}</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Date Required on Site</div>
                            <div class="detail-value">${job.rosDate}</div>
                        </div>
                    </div>
                </div>

                <div class="detail-section">
                    <div class="section-title">5. Contact Information & Comments</div>
                    <div class="detail-grid">
                        <div class="detail-item">
                            <div class="detail-label">Callout Completed By</div>
                            <div class="detail-value">${job.contactPerson}</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Designation</div>
                            <div class="detail-value">${job.designation}</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Contact #</div>
                            <div class="detail-value"><a href="tel:${job.contactPhone}" style="color: var(--secondary-color);">${job.contactPhone}</a></div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Authorization</div>
                            <div class="detail-value">${job.authorization}</div>
                        </div>
                        <div class="detail-item" style="grid-column: 1 / -1;">
                            <div class="detail-label">Comments</div>
                            <div class="detail-value">${job.comments}</div>
                        </div>
                    </div>
                </div>

                <div class="detail-section">
                    <div class="section-title">Job Status & Tracking</div>
                    <div class="detail-grid">
                        <div class="detail-item">
                            <div class="detail-label">Callout ID</div>
                            <div class="detail-value" style="color: var(--secondary-color); font-weight: bold;">${job.calloutId}</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Status</div>
                            <div class="detail-value">
                                <span class="status-badge status-newcallout">New Callout</span>
                            </div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Priority</div>
                            <div class="detail-value">High</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Created Date</div>
                            <div class="detail-value">28/09/2025</div>
                        </div>
                    </div>
                </div>
            `;
            
            document.getElementById('jobModal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            document.getElementById('jobModal').classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        function showEditModal(calloutId) {
            closeModal();
            document.getElementById('editModal').classList.add('active');
        }

        function closeEditModal() {
            document.getElementById('editModal').classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        function saveEdit() {
            closeEditModal();
            const msg = document.getElementById('successMessage');
            msg.textContent = '✓ Job updated successfully!';
            msg.classList.add('active');
            setTimeout(() => {
                msg.classList.remove('active');
            }, 3000);
        }

        function completeJob(calloutId) {
            if (confirm(`Mark ${calloutId} as COMPLETED?`)) {
                closeModal();
                const msg = document.getElementById('successMessage');
                msg.textContent = `✓ ${calloutId} marked as COMPLETED!`;
                msg.classList.add('active');
                setTimeout(() => {
                    msg.classList.remove('active');
                }, 3000);
            }
        }

        window.onclick = function(event) {
            const jobModal = document.getElementById('jobModal');
            const editModal = document.getElementById('editModal');
            if (event.target === jobModal) closeModal();
            if (event.target === editModal) closeEditModal();
        };
    </script>
</body>
</html>
